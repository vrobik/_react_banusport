(this.webpackJsonpreact_banusport=this.webpackJsonpreact_banusport||[]).push([[5],{591:function(e,t){},713:function(e,t){},715:function(e,t){},724:function(e,t){},726:function(e,t){},752:function(e,t){},754:function(e,t){},755:function(e,t){},761:function(e,t){},763:function(e,t){},781:function(e,t){},784:function(e,t){},800:function(e,t){},803:function(e,t){},838:function(e,t){},840:function(e,t){},932:function(e,t,n){"use strict";n.r(t);var a=n(927),c=n(925),r=n(497),o=n.n(r),l=n(710),i=n(926),u=n(2),s=n.n(u),m=n(18),p=n(514),f=n(711),b=n.n(f),E=n(829);t.default=function(){var e=0,t=0,n=localStorage.getItem("pass"),r=Object(m.g)(),f=Object(u.useState)(!1),d=Object(i.a)(f,2),h=d[0],O=d[1],j=Object(u.useState)([]),k=Object(i.a)(j,2),g=k[0],v=k[1],y=Object(u.useState)([]),w=Object(i.a)(y,2),A=w[0],T=w[1],I=Object(u.useState)([]),P=Object(i.a)(I,2),C=P[0],S=P[1],N=Object(u.useState)([]),z=Object(i.a)(N,2),x=z[0],_=z[1],D=Object(u.useState)({}),B=Object(i.a)(D,2),F=B[0],K=B[1],Q=Object(u.useState)([]),R=Object(i.a)(Q,2),L=R[0],M=R[1],H=Object(u.useState)([]),G=Object(i.a)(H,2),Y=G[0],U=G[1],X=Object(u.useState)(10),J=Object(i.a)(X,2),q=J[0],Z=J[1],V=Object(u.useState)([]),W=Object(i.a)(V,2),$=W[0],ee=W[1],te=Object({NODE_ENV:"production",PUBLIC_URL:"/_react_banusport",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CLIENT_EMAIL:"banusportservice@banusport.iam.gserviceaccount.com",REACT_APP_GOOGLESHEET_ID:"1PdOaTHFhQ2wzTzIGTyKB8qg-217s3En7E_clmeAJKv0",REACT_APP_PRIVATE_KEY:"-----BEGIN PRIVATE KEY-----MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQCogR9MNH6yFeA3/XxqpaLafKDJFzv91DVLIjfAv86mO4DX57T6HOue4eEhTd9sbaxaNSFp6SC+UBKaTI2uhz9OUeSito8uIYxTZUm9FKzQOvwmYWx25O4xcLXJY2UoFQwYiR08Xau181KfHYxeiNJ1D+J568LBs1ZwnWeHKLWK205D232NvNzFFwFI1KzoFW71hAg1fqGGgOX/rQLzC3zjtpnUGa/GExdv6HhiFe/qisxI99sDzaNVLVDD0QsuIMpzXZu5si3O7g0gdbDMetz/E3Kq3s+pt7tZyk5yarN2Vb5gANVYfStiV0NW2UqJMkB+6ritkesIwq0g7uEqpIcxAgMBAAECggEAG9kTIhX+5lGlN7ul5z4ulutH61PyrzV2BU/HZQyOC30EAyqhB0DmU+DCwy1KgnHxrQrg1c8YgTtch7GlLLXfaYMxRQ7kxNv4hAPWVvBmyxckevdY5KFbGEKnWHwbyK8Jy7hFY6ebbDulaPSKMUltdrlEVZ/4FOkdnQj2hijdL/Bf7VNQojEcYMdqQGb0TKlIqFmm24A1fQdNtQdJZYeLhyM4QnFdkB/ZDe7HunPzgc8n1Clmu3WQ5d9ApI1a7PX6ylupK4Sw3HCz7vvM4dplJhs/mDT4LF+ftFl5skoX56z2O4tVZgQLWjnEDO4wFhXsPqv6d5lTEVsYC8jUS/AgTQKBgQDQHmJ2VTBTQ6xRa1DxKQfIUwqBRYWVtQhFzU/8/Q7F41smDv+R6XtxhXTA9/knlQOoXIL418R8PFpvYDXlo59ZI6DIqeniYwTZu4wBra0TShgQm/UidDI2A+YEk7LJ9z3lGFJTfr/EfYGftGffZeks0Lk8YoNFZKtviaEYkAicswKBgQDPRZCF8cP/PQT7LGf975Bfkf5C3M12PrKKNSEAdUSE7Kyt5gMSUNjzI62n7XDbM4AO4Vef8pfzv+DiYuuvtXRIiBk0XcKpCkID9uTprK7xbU8DhxZ7L/7dkZ2FjlyIAQXLCgyyjkihz8u6r8qqyGG4pQp7qj5mO8grTLxTnKfGiwKBgQCuHH1rWiGvxzHme82ftB/aq/5h3/O+J1Hgc7+ze1Jco7ShxnJxc8/eTTQ8LDi5sKT6uUqpPHoZJbTS8L6me5jYTkI5Hk2ZJBXuwkSDMvVU6evwGUmfpW5MWj6ZHae556pUe2CEkcmFbSqAncE42F2XLJeLuS7xYyM5kP7BOd66mQKBgQC4foRBJc0/QTJQ3NsH5pjM6Oe43k+og/BqIxZoEPnXk8+0zrtHL12dNtHZWvmMtA+1rxFPFyH4XoAvIrwFX+/MrBA7U4X072OJoddqxEHINnMRgcoaBsPGt1nOSsTEbpyYeS6KNSojlhIS72znjYumTonBP+1hFK99E0XC6vtQNwKBgQCFKvotae0ZXrEOlp472M6Po9soiX5I1qUwQUAaOGKj6JOokcHnPUsBy8HOWklpshBsNJ9FB2OZi/+4v9T9maLawPyno2tfynU/F89q8OeAjvpuEy0RtLiXFI0c6swn+UC5sOLBY3RfZ1RtYoAV+d85owAfL+b2rdncqFwMPx//2w==-----END PRIVATE KEY-----",REACT_APP_SHEET_ID:"83843916",REACT_APP_SHEET_ID_TEST:"824932524"}),ne=te.REACT_APP_GOOGLESHEET_ID,ae=te.REACT_APP_CLIENT_EMAIL,ce=te.REACT_APP_PRIVATE_KEY,re=te.REACT_APP_SHEET_ID,oe=new E.GoogleSpreadsheet(ne),le=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.useServiceAccountAuth({client_email:ae,private_key:ce});case 3:return e.next=5,oe.loadInfo();case 5:return t=oe.sheetsById[re],e.next=8,t.getRows();case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(0),console.error("Error: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();0===Y.length&&le().then((function(e){M(e),U(Object.keys(e).map((function(t,n){return{id:e[t].phone,idRow:n,name:e[t].name,phone:e[t].phone,photo:e[t].photo,note:e[t].note,pozitiile:e[t].pozitiile}})))}));var ie=Object(m.h)().search.match(/page=([0-9]+)/,""),ue=Number(ie&&ie[1]?ie[1]:1),se=Math.ceil(Y.length/q),me=Object(u.useState)(ue),pe=Object(i.a)(me,2),fe=pe[0],be=pe[1],Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";ee([].concat(Object(c.a)($),[{position:"top-right",autohide:"errors"===e?3e3:1e3,closeButton:!0,fade:!0,type:e,content:t}]))},de=$.reduce((function(e,t){return e[t.position]=e[t.position]||[],e[t.position].push(t),e}),{}),he=function(n){if(C.length<12)Ee("low");else{var a={},r=[],o=[];if("undefined"===typeof n||"position"===n){var l={1:[],2:[],3:[],4:[]},i={1:[],2:[],3:[],4:[]},u={1:[],2:[],3:[],4:[]},s={1:[],2:[],3:[],4:[]};Y.forEach((function(e){if(C.includes(e.id)){a[e.id]=e;var t=e.pozitiile.split(".");switch(t[0]){case"1":l[1]=[].concat(Object(c.a)(l[1]),[e]);break;case"2":i[1]=[].concat(Object(c.a)(i[1]),[e]);break;case"3":u[1]=[].concat(Object(c.a)(u[1]),[e]);break;case"4":s[1]=[].concat(Object(c.a)(s[1]),[e])}switch(t[1]){case"1":l[2]=[].concat(Object(c.a)(l[2]),[e]);break;case"2":i[2]=[].concat(Object(c.a)(i[2]),[e]);break;case"3":u[2]=[].concat(Object(c.a)(u[2]),[e]);break;case"4":s[2]=[].concat(Object(c.a)(s[2]),[e])}switch(t[2]){case"1":l[3]=[].concat(Object(c.a)(l[3]),[e]);break;case"2":i[3]=[].concat(Object(c.a)(i[3]),[e]);break;case"3":u[3]=[].concat(Object(c.a)(u[3]),[e]);break;case"4":s[3]=[].concat(Object(c.a)(s[3]),[e])}switch(t[3]){case"1":l[4]=[].concat(Object(c.a)(l[4]),[e]);break;case"2":i[4]=[].concat(Object(c.a)(i[4]),[e]);break;case"3":u[4]=[].concat(Object(c.a)(u[4]),[e]);break;case"4":s[4]=[].concat(Object(c.a)(s[4]),[e])}}})),Object.keys(l).map((function(e){return l[e].sort((function(e,t){return parseInt(t.note,10)-parseInt(e.note,10)}))})),Object.keys(i).map((function(e){return i[e].sort((function(e,t){return parseInt(t.note,10)-parseInt(e.note,10)}))})),Object.keys(u).map((function(e){return u[e].sort((function(e,t){return parseInt(t.note,10)-parseInt(e.note,10)}))})),Object.keys(s).map((function(e){return s[e].sort((function(e,t){return parseInt(t.note,10)-parseInt(e.note,10)}))})),r=[].concat(Object(c.a)(l[1].filter((function(e,t){return t%2===0}))),Object(c.a)(i[1].filter((function(e,t){return t%2===0}))),Object(c.a)(u[1].filter((function(e,t){return t%2===0}))),Object(c.a)(s[1].filter((function(e,t){return t%2===0})))),o=[].concat(Object(c.a)(l[1].filter((function(e,t){return t%2!==0}))),Object(c.a)(i[1].filter((function(e,t){return t%2!==0}))),Object(c.a)(u[1].filter((function(e,t){return t%2!==0}))),Object(c.a)(s[1].filter((function(e,t){return t%2!==0})))),r.length!==o.length&&(o=[].concat(Object(c.a)(o),[r.slice(-1).pop()]),r.pop()),e=0,t=0}else if("top"===n){Y.forEach((function(e){C.includes(e.id)&&(a[e.id]=e)})),Object.values(a).sort((function(e,t){return parseInt(t.note,10)-parseInt(e.note,10)})).forEach((function(e,t){t%2?o=[].concat(Object(c.a)(o),[e]):r=[].concat(Object(c.a)(r),[e])}))}else{var m=C.sort((function(){return.5-Math.random()}));r=m.slice(0,6),o=m.slice(6,12)}T([r,o]),O(!0)}},Oe=function(e){switch(e){case"1":return"Att";case"2":return"Mid";case"3":return"Def";case"4":return"Gk";default:return"N/A"}},je=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},e.t0=t.data.name,e.next="note"===e.t0?4:"phone"===e.t0?6:"pozitiile"===e.t0?8:10;break;case 4:return n.note=t.data.value,e.abrupt("break",11);case 6:return n.phone=t.data.value,e.abrupt("break",11);case 8:return n.pozitiile=t.data.value,e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:K(Object(a.a)(Object(a.a)({},F),n));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e={};(F.note>10||F.note<0)&&(e.nota="Nota jucatorului nu corespunde intervalului [0 ... 10]"),null===F.phone.match(/^[0-9]*$/g)&&(e.telefon="Numarul de telefon al jucatorului poate fin doar din cifre");var t=F.pozitiile.split("."),n=t.includes("1")&&t.includes("2")&&t.includes("3")&&t.includes("4");if(4===t.length&&n||(e.pozitii='Pozitiile de joc nu corespund formatului "1.2.3.4"'),Object.keys(e).length)return Ee("errors",e),null;L[x[0]].note=F.note,L[x[0]].phone=F.phone,L[x[0]].pozitiile=F.pozitiile,L[x[0]].save();var c=Y.slice();c[x[0]]=Object(a.a)(Object(a.a)({},c[x[0]]),{},{note:F.note,phone:F.phone,pozitiile:F.pozitiile,id:F.phone,idRow:x[0]}),U(c),_([]),K({})},ge=function(e){var t=Object(i.a)(e,1)[0];if(null!==n&&"b43c25877cb11b88bcf6341b90fdccab"===b.a.MD5(n).toString())"undefined"!==typeof t?(_([t]),K(L[t])):(_([]),K({}));else{var a=prompt("Password:","");if(null===a||"b43c25877cb11b88bcf6341b90fdccab"!==b.a.MD5(a).toString())return Ee("pass"),null;localStorage.setItem("pass",a),"undefined"!==typeof t?(_([t]),K(L[t])):(_([]),K({}))}};return Object(u.useEffect)((function(){ue!==fe&&be(ue)}),[ue,fe,Y]),s.a.createElement(p.O,null,Y.length?s.a.createElement(p.k,{xl:12},s.a.createElement(p.g,null,s.a.createElement(p.i,null,s.a.createElement(p.O,{className:"align-items-center"},s.a.createElement(p.k,{col:"6",xl:"4",className:"mb-3 mb-xl-0"},"Players"),s.a.createElement(p.k,{col:"6",sm:"4",md:"4",xl:"4",className:"mb-3 mb-xl-0"},s.a.createElement(p.f,null,s.a.createElement(p.e,{color:"success",onClick:function(){return Ee("change")}},"Players list"),s.a.createElement(p.e,{color:"danger",onClick:function(){return S([])}},"Clear list"))),s.a.createElement(p.k,{col:"6",sm:"4",md:"4",xl:"4",className:"mb-3 mb-xl-0"},s.a.createElement(p.f,null,s.a.createElement(p.e,{color:"success",onClick:function(){C.length<12||A.length<2?Ee("noteams"):O(!0)}},"Show teams"),s.a.createElement(p.e,{color:"danger",onClick:function(){return he()}},"Generate teams"))))),s.a.createElement(p.h,null,s.a.createElement(p.o,{items:Y,fields:[{key:"switch",label:"Participa",_style:{width:"1%"},sorter:!0},{key:"name",_classes:"font-weight-bold",_style:{width:"30%"}},{key:"phone",label:"Telefon"},{key:"note",label:"Nota"},{key:"pozitiile",label:"Post"},{key:"show_details",label:"",_style:{width:"1%"},filter:!1}],tableFilter:!0,itemsPerPageSelect:{label:"Jucaroti pe pagina",values:[10,20,50]},onPaginationChange:function(e){Z(e)},hover:!0,striped:!0,itemsPerPage:q,activePage:fe,scopedSlots:{switch:function(e){return s.a.createElement("td",{className:"py-2"},s.a.createElement(p.Y,{size:"sm",className:"mx-1",shape:"pill",color:"success",variant:"opposite",labelOn:"\u2713",labelOff:"\u2715",onClick:function(){return t=e.id,void(12!==C.length||C.includes(t)?(C.includes(t)?S(Object(c.a)(C.filter((function(e){return e!==t})))):S([].concat(Object(c.a)(C),[t])),Ee("change")):Ee("full"));var t},checked:C.includes(e.id),onChange:function(){}}))},pozitiile:function(e){return s.a.createElement("td",{className:"py-2"},e.pozitiile.split(".").map((function(e){return Oe(e)})).join("->"))},show_details:function(e,t){return s.a.createElement("td",{className:"py-2"},s.a.createElement(p.e,{color:"primary",variant:"outline",shape:"square",size:"sm",onClick:function(){!function(e){var t=g.indexOf(e),n=g.slice();-1!==t?n.splice(t,1):n=[].concat(Object(c.a)(g),[e]),v(n)}(t)}},g.includes(t)?"Hide":"Show"))},details:function(e,t){return s.a.createElement(p.l,{show:g.includes(t)},s.a.createElement(p.h,null,s.a.createElement(p.O,null,s.a.createElement(p.k,{lg:"8",className:"py-3"},s.a.createElement(p.D,null,s.a.createElement(p.E,null,s.a.createElement(p.F,{className:"bg-info text-white"},"Nota")),x.includes(e.idRow)?s.a.createElement(p.C,{value:F.note,name:"note",type:"number",min:0,max:10,onChange:function(t){return je({id:e.idRow,data:t.target})}}):s.a.createElement(p.C,{value:e.note,name:"note",disabled:!0})),s.a.createElement("br",null),s.a.createElement(p.D,null,s.a.createElement(p.E,null,s.a.createElement(p.F,{className:"bg-info text-white"},"Telefon")),x.includes(e.idRow)?s.a.createElement(p.C,{value:F.phone,type:"number",name:"phone",onChange:function(t){return je({id:e.idRow,data:t.target})}}):s.a.createElement(p.C,{value:e.phone,name:"phone",disabled:!0})),s.a.createElement("br",null),s.a.createElement(p.D,null,s.a.createElement(p.E,null,s.a.createElement(p.F,{className:"bg-info text-white"},"Pozitii de joc")),x.includes(e.idRow)?s.a.createElement(p.C,{value:F.pozitiile,name:"pozitiile",onChange:function(t){return je({id:e.idRow,data:t.target})}}):s.a.createElement(p.C,{value:e.pozitiile,name:"pozitiile",disabled:!0})),s.a.createElement(p.v,{className:"help-block"},"1: Att, 2: Mid, 3: Def, 4: Gk"),s.a.createElement("br",null),x.includes(e.idRow)?s.a.createElement(p.f,null,s.a.createElement(p.e,{color:"success",onClick:ke},"Update"),s.a.createElement(p.e,{color:"danger",onClick:function(){return ge([])}},"Cancel")):s.a.createElement(p.e,{color:"warning",onClick:function(){return ge([e.idRow])}},"Edit")),s.a.createElement(p.k,{md:"4",className:"py-3"},"default"===e.photo?"No Image":s.a.createElement(p.j,{src:e.photo})))))}}}),s.a.createElement(p.M,{activePage:fe,onActivePageChange:function(e){ue!==e&&r.push("/players?page=".concat(e))},pages:se,align:"center"})))):"",Object.keys(de).map((function(e){return s.a.createElement(p.cb,{position:e,key:"toaster"+e},de[e].map((function(e,t){return s.a.createElement(p.Z,{key:"toast"+t,show:!0,autohide:e.autohide,fade:e.fade},s.a.createElement(p.bb,{closeButton:e.closeButton},["full","low","pass"].includes(e.type)?"Atentie!":"Jucatori"),s.a.createElement(p.ab,null,function(e){switch(e.type){case"full":return"Maximul jucatorilor este 12";case"low":return"Minimul de jucatorilor este 12";case"noteams":return"Generaza echipele!";case"pass":return"Wrong Password!!!";case"change":return Object.keys(Y).map((function(e){return C.includes(Y[e].id)?s.a.createElement("p",{key:Y[e].id},s.a.createElement("b",null,"".concat(Y[e].name))):""}));case"errors":return Object.keys(e.content).map((function(t){return s.a.createElement("p",{key:t},s.a.createElement("b",{style:{textTransform:"capitalize"}},"".concat(t),": ")," ","".concat(e.content[t]))}))}}(e)))})))})),s.a.createElement(p.H,{show:h,onClose:O},s.a.createElement(p.K,{closeButton:!0},s.a.createElement(p.L,null,"Modal title")),s.a.createElement(p.I,null,A.length<1?"No teams":s.a.createElement(p.O,null,s.a.createElement(p.k,{col:"6",className:"bg-info py-3"},A[0].map((function(t,n){return e+=parseInt(t.note,10),s.a.createElement("p",{key:t.id},"".concat(n+1,": "),s.a.createElement("b",null,"".concat(t.name))," : ",Oe(t.pozitiile.split(".")[0])," : ",t.note)})),s.a.createElement("h3",null,"Suma: ",e),s.a.createElement("h5",null,"Media: ",(e/6).toFixed(2))),s.a.createElement(p.k,{col:"6",className:"bg-warning py-3"},A[1].map((function(e,n){return t+=parseInt(e.note,10),s.a.createElement("p",{key:e.id},"".concat(n+1,": "),s.a.createElement("b",null,"".concat(e.name))," : ",Oe(e.pozitiile.split(".")[0])," : ",e.note)})),s.a.createElement("h4",null,"Suma: ",t),s.a.createElement("h5",null,"Media: ",(t/6).toFixed(2))))),s.a.createElement(p.J,null,s.a.createElement(p.f,null,s.a.createElement(p.e,{onClick:function(){return he("position")},color:"success"},"Teams by Position")," ",s.a.createElement(p.e,{onClick:function(){return he("top")},color:"danger"},"Teams by Top")),s.a.createElement(p.e,{color:"secondary",onClick:function(){return O(!1)}},"Close"))))}}}]);
//# sourceMappingURL=5.f02c4ca2.chunk.js.map