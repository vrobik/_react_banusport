(this.webpackJsonpreact_banusport=this.webpackJsonpreact_banusport||[]).push([[5],{591:function(e,t){},713:function(e,t){},715:function(e,t){},724:function(e,t){},726:function(e,t){},752:function(e,t){},754:function(e,t){},755:function(e,t){},761:function(e,t){},763:function(e,t){},781:function(e,t){},784:function(e,t){},800:function(e,t){},803:function(e,t){},838:function(e,t){},840:function(e,t){},932:function(e,t,n){"use strict";n.r(t);var a=n(927),c=n(925),r=n(497),o=n.n(r),l=n(710),i=n(926),u=n(2),s=n.n(u),p=n(18),m=n(514),f=n(711),b=n.n(f),d=n(829);t.default=function(){var e=0,t=0,n=localStorage.getItem("pass"),r=Object(p.g)(),f=Object(u.useState)(!1),E=Object(i.a)(f,2),h=E[0],O=E[1],j=Object(u.useState)([]),g=Object(i.a)(j,2),k=g[0],w=g[1],v=Object(u.useState)([]),y=Object(i.a)(v,2),C=y[0],I=y[1],A=Object(u.useState)([]),T=Object(i.a)(A,2),P=T[0],z=T[1],S=Object(u.useState)([]),N=Object(i.a)(S,2),R=N[0],G=N[1],x=Object(u.useState)({}),D=Object(i.a)(x,2),_=D[0],B=D[1],L=Object(u.useState)([]),q=Object(i.a)(L,2),J=q[0],M=q[1],Y=Object(u.useState)([]),W=Object(i.a)(Y,2),F=W[0],Q=W[1],K=Object(u.useState)(10),V=Object(i.a)(K,2),H=V[0],X=V[1],Z=Object(u.useState)([]),U=Object(i.a)(Z,2),$=U[0],ee=U[1],te=Object({NODE_ENV:"production",PUBLIC_URL:"/_react_banusport",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SHEET_ID:"83843916",REACT_APP_CLIENT_EMAIL:"email-825@banusport.iam.gserviceaccount.com",REACT_APP_GOOGLESHEET_ID:"1PdOaTHFhQ2wzTzIGTyKB8qg-217s3En7E_clmeAJKv0",REACT_APP_PRIVATE_KEY:"-----BEGIN PRIVATE KEY-----MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCRInCl/DkL6jYy/sg6bHQaKlrECi1dT/h1+uYC/gWsvXsQIImxcZG1W/O9ttGG9e2xmxlNBxnt7Jph81RzjbOzhfaDwogfdb1cRfDUKNxHIsOBjCXpQhzNTUGu1RtPCy1dIYlEj8xENtZsOlgihT2qEnxaWZIZ8BJicAh3gozq6aNsn2Q7HDgZqJOeHTZT/MBRlLWlGg8nISMPaXA3uve5XfyCFJu6z/68EKIwFawKZqzezfLLyCg9cFgjbTdMkhTyQn0lIj2yhJX76u9am18Ghlq9I/OAJXd/a9GkIDcO7pxpMqvc5rDjj0HNLAQlkyCTVU4C8rxWrUOSq4htcrYHAgMBAAECggEAOMsG1NUxx5lTsznjRYV6G2EWmp826ExqeFSBnIsl0lZlaUaqSx8beyIr68G2FT94T6dXS76rJWEQeqL7GarKNsaF1EKT/OeYfZq65nLE3Ctc4P1kOnaOCcKhINawtIo1qrt8WTGCJ/Fjj/92zK9iFYLdWYeydebtcsrPbWDPXv8OQ/THHYTaeCazF2qAki02TVqgElD6f+3qRJQZ56weFXE5MkGrLNe+LorZEEqkg+BZyG0kRwgViR0VfY2c8HgJhu+dkIu4fzmukXhsIqSWR+S1lvfdAZOBMCovwHX5SOgfYgpRdzoOXJXBkdmedLYUdQZpEhBhJMMBF4Jt44JiiQKBgQDMCPDs6RzZd+wqrfVJ3VQXnr/7rCbOsm5Vd1jQ52ioWAWracitL1NuonPDpVYBaqy+maUF6OnPX7EdfVW9DFHPgyJtx8Dpd91HfLHVx53diDKr87Vglau7TamR4xJqAtIkHZ6A54fIOY3ka4VSqVFQTUJFroBKQ3/m/He6A8zgLwKBgQC2GTLOH4CqO3xr1PGBar9GJJ/bLdSpuYRZRAzxq23rH3Lz+wjzmITsO8MD9D/GlssjeQscfWe/TBMfuvLXvS8qqrudEPkfsWppc9kt6EqaxMv20nD+rhPokZ1a/oW8P5Sl/gywRB7cnnwQrT1q17bUM2D/faeBFPKT3ktFRuv5qQKBgQC5DzsGhoEmNgE8zL94GYlWSySybnhcbbZpSnCCOgHQ/tVVngLoIc64wBvjziht7IV18wGclJ7M+mw45R9I8s2ZO8WUcONmXtOTLWRXFFD5R7k+ATP3wIkcv9oXei+Pe7OCEmNbY6TiVGGAVo18ZhpcjVaYwSeXNBXkOgWV8DB4/QKBgBBmKIsjjyTFgqj7Xlx3To50kejdMb+vM1oOpNPGynlYNbP/MYkufRoBL8jVYED0J4skRXnlWUiDA13iKih/oxXGlmrIsobGJX0lr7NQrhdODchGn2JwLt7M7kzZixWu7CYewOnG2LiplSazU0qh7pchoWSg3krjpgznAgRVJL8xAoGAQbU60qTpfK8ZGnn2VFctNNduwscrIuYzhA9Dejn/fGuXs4fN0G5P9DZ8GcB4EOvQiDzAouZkLSPwiWW6vvXpjI3EHUoxuqcEtjmP3Wzc/Y+YIcJNJ0GYwR2DpYGej230bSNZejs0PAv+FIB7cfPRykjdwth/3LoruyyJnTTadm4=-----END PRIVATE KEY-----"}),ne=te.REACT_APP_GOOGLESHEET_ID,ae=te.REACT_APP_CLIENT_EMAIL,ce=te.REACT_APP_PRIVATE_KEY,re=te.REACT_APP_SHEET_ID,oe=new d.GoogleSpreadsheet(ne),le=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.useServiceAccountAuth({client_email:ae,private_key:ce});case 3:return e.next=5,oe.loadInfo();case 5:return t=oe.sheetsById[re],e.next=8,t.getRows();case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(0),console.error("Error: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();0===F.length&&le().then((function(e){M(e),Q(Object.keys(e).map((function(t,n){return{id:e[t].phone,idRow:n,name:e[t].name,phone:e[t].phone,photo:e[t].photo,note:e[t].note,pozitiile:e[t].pozitiile}})))}));var ie=Object(p.h)().search.match(/page=([0-9]+)/,""),ue=Number(ie&&ie[1]?ie[1]:1),se=Math.ceil(F.length/H),pe=Object(u.useState)(ue),me=Object(i.a)(pe,2),fe=me[0],be=me[1],de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";ee([].concat(Object(c.a)($),[{position:"top-right",autohide:"errors"===e?3e3:1e3,closeButton:!0,fade:!0,type:e,content:t}]))},Ee=$.reduce((function(e,t){return e[t.position]=e[t.position]||[],e[t.position].push(t),e}),{}),he=function(n){if(P.length<12)de("low");else{var a={},r=[],o=[];if("undefined"===typeof n||"position"===n){var l={1:[],2:[],3:[],4:[]},i={1:[],2:[],3:[],4:[]},u={1:[],2:[],3:[],4:[]},s={1:[],2:[],3:[],4:[]};F.forEach((function(e){if(P.includes(e.id)){a[e.id]=e;var t=e.pozitiile.split(".");switch(t[0]){case"1":l[1]=[].concat(Object(c.a)(l[1]),[e]);break;case"2":i[1]=[].concat(Object(c.a)(i[1]),[e]);break;case"3":u[1]=[].concat(Object(c.a)(u[1]),[e]);break;case"4":s[1]=[].concat(Object(c.a)(s[1]),[e])}switch(t[1]){case"1":l[2]=[].concat(Object(c.a)(l[2]),[e]);break;case"2":i[2]=[].concat(Object(c.a)(i[2]),[e]);break;case"3":u[2]=[].concat(Object(c.a)(u[2]),[e]);break;case"4":s[2]=[].concat(Object(c.a)(s[2]),[e])}switch(t[2]){case"1":l[3]=[].concat(Object(c.a)(l[3]),[e]);break;case"2":i[3]=[].concat(Object(c.a)(i[3]),[e]);break;case"3":u[3]=[].concat(Object(c.a)(u[3]),[e]);break;case"4":s[3]=[].concat(Object(c.a)(s[3]),[e])}switch(t[3]){case"1":l[4]=[].concat(Object(c.a)(l[4]),[e]);break;case"2":i[4]=[].concat(Object(c.a)(i[4]),[e]);break;case"3":u[4]=[].concat(Object(c.a)(u[4]),[e]);break;case"4":s[4]=[].concat(Object(c.a)(s[4]),[e])}}})),Object.keys(l).map((function(e){return l[e].sort((function(e,t){return parseInt(t.note,10)-parseInt(e.note,10)}))})),Object.keys(i).map((function(e){return i[e].sort((function(e,t){return parseInt(t.note,10)-parseInt(e.note,10)}))})),Object.keys(u).map((function(e){return u[e].sort((function(e,t){return parseInt(t.note,10)-parseInt(e.note,10)}))})),Object.keys(s).map((function(e){return s[e].sort((function(e,t){return parseInt(t.note,10)-parseInt(e.note,10)}))})),r=[].concat(Object(c.a)(l[1].filter((function(e,t){return t%2===0}))),Object(c.a)(i[1].filter((function(e,t){return t%2===0}))),Object(c.a)(u[1].filter((function(e,t){return t%2===0}))),Object(c.a)(s[1].filter((function(e,t){return t%2===0})))),o=[].concat(Object(c.a)(l[1].filter((function(e,t){return t%2!==0}))),Object(c.a)(i[1].filter((function(e,t){return t%2!==0}))),Object(c.a)(u[1].filter((function(e,t){return t%2!==0}))),Object(c.a)(s[1].filter((function(e,t){return t%2!==0})))),r.length!==o.length&&(o=[].concat(Object(c.a)(o),[r.slice(-1).pop()]),r.pop()),e=0,t=0}else if("top"===n){F.forEach((function(e){P.includes(e.id)&&(a[e.id]=e)})),Object.values(a).sort((function(e,t){return parseInt(t.note,10)-parseInt(e.note,10)})).forEach((function(e,t){t%2?o=[].concat(Object(c.a)(o),[e]):r=[].concat(Object(c.a)(r),[e])}))}else{var p=P.sort((function(){return.5-Math.random()}));r=p.slice(0,6),o=p.slice(6,12)}I([r,o]),O(!0)}},Oe=function(e){switch(e){case"1":return"Att";case"2":return"Mid";case"3":return"Def";case"4":return"Gk";default:return"N/A"}},je=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},e.t0=t.data.name,e.next="note"===e.t0?4:"phone"===e.t0?6:"pozitiile"===e.t0?8:10;break;case 4:return n.note=t.data.value,e.abrupt("break",11);case 6:return n.phone=t.data.value,e.abrupt("break",11);case 8:return n.pozitiile=t.data.value,e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:B(Object(a.a)(Object(a.a)({},_),n));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e={};(_.note>10||_.note<0)&&(e.nota="Nota jucatorului nu corespunde intervalului [0 ... 10]"),null===_.phone.match(/^[0-9]*$/g)&&(e.telefon="Numarul de telefon al jucatorului poate fin doar din cifre");var t=_.pozitiile.split("."),n=t.includes("1")&&t.includes("2")&&t.includes("3")&&t.includes("4");if(4===t.length&&n||(e.pozitii='Pozitiile de joc nu corespund formatului "1.2.3.4"'),Object.keys(e).length)return de("errors",e),null;J[R[0]].note=_.note,J[R[0]].phone=_.phone,J[R[0]].pozitiile=_.pozitiile,J[R[0]].save();var c=F.slice();c[R[0]]=Object(a.a)(Object(a.a)({},c[R[0]]),{},{note:_.note,phone:_.phone,pozitiile:_.pozitiile,id:_.phone,idRow:R[0]}),Q(c),G([]),B({})},ke=function(e){var t=Object(i.a)(e,1)[0];if(null!==n&&"b43c25877cb11b88bcf6341b90fdccab"===b.a.MD5(n).toString())"undefined"!==typeof t?(G([t]),B(J[t])):(G([]),B({}));else{var a=prompt("Password:","");if(null===a||"b43c25877cb11b88bcf6341b90fdccab"!==b.a.MD5(a).toString())return de("pass"),null;localStorage.setItem("pass",a),"undefined"!==typeof t?(G([t]),B(J[t])):(G([]),B({}))}};return Object(u.useEffect)((function(){ue!==fe&&be(ue)}),[ue,fe,F]),s.a.createElement(m.O,null,F.length?s.a.createElement(m.k,{xl:12},s.a.createElement(m.g,null,s.a.createElement(m.i,null,s.a.createElement(m.O,{className:"align-items-center"},s.a.createElement(m.k,{col:"6",sm:"6",md:"6",xl:"6",className:"mb-3 mb-xl-0"},s.a.createElement(m.f,null,s.a.createElement(m.e,{color:"success",onClick:function(){return de("change")}},"Jucatori selectati"),s.a.createElement(m.e,{color:"danger",onClick:function(){return z([])}},"Reseteaza lista"))),s.a.createElement(m.k,{col:"6",sm:"6",md:"6",xl:"6",className:"mb-3 mb-xl-0 text-right"},s.a.createElement(m.f,null,s.a.createElement(m.e,{color:"success",onClick:function(){P.length<12||C.length<2?de("noteams"):O(!0)}},"Afiseaza echipele"),s.a.createElement(m.e,{color:"danger",onClick:function(){return he()}},"Genereaza echipele"))))),s.a.createElement(m.h,null,s.a.createElement(m.o,{items:F,fields:[{key:"switch",label:"Participa",_style:{width:"1%"},sorter:!0},{key:"name",_classes:"font-weight-bold",_style:{width:"30%"}},{key:"phone",label:"Telefon"},{key:"note",label:"Nota"},{key:"pozitiile",label:"Pozitii de joc"},{key:"show_details",label:"",_style:{width:"1%"},filter:!1}],tableFilter:{placeholder:"nume | telefon"},itemsPerPageSelect:{label:"Jucaroti pe pagina",values:[10,20,50]},onPaginationChange:function(e){X(e)},hover:!0,striped:!0,itemsPerPage:H,activePage:fe,scopedSlots:{switch:function(e){return s.a.createElement("td",{className:"py-2"},s.a.createElement(m.Y,{size:"sm",className:"mx-1",shape:"pill",color:"success",variant:"opposite",labelOn:"\u2713",labelOff:"\u2715",onClick:function(){return t=e.id,void(12!==P.length||P.includes(t)?(P.includes(t)?z(Object(c.a)(P.filter((function(e){return e!==t})))):z([].concat(Object(c.a)(P),[t])),de("change")):de("full"));var t},checked:P.includes(e.id),onChange:function(){}}))},pozitiile:function(e){return s.a.createElement("td",{className:"py-2"},e.pozitiile.split(".").map((function(e){return Oe(e)})).join("->"))},show_details:function(e,t){return s.a.createElement("td",{className:"py-2"},s.a.createElement(m.e,{color:"primary",variant:"outline",shape:"square",size:"sm",onClick:function(){!function(e){var t=k.indexOf(e),n=k.slice();-1!==t?n.splice(t,1):n=[].concat(Object(c.a)(k),[e]),w(n)}(t)}},k.includes(t)?"Hide":"Show"))},details:function(e,t){return s.a.createElement(m.l,{show:k.includes(t)},s.a.createElement(m.h,null,s.a.createElement(m.O,null,s.a.createElement(m.k,{lg:"8",className:"py-3"},s.a.createElement(m.D,null,s.a.createElement(m.E,null,s.a.createElement(m.F,{className:"bg-info text-white"},"Nota")),R.includes(e.idRow)?s.a.createElement(m.C,{value:_.note,name:"note",type:"number",min:0,max:10,onChange:function(t){return je({id:e.idRow,data:t.target})}}):s.a.createElement(m.C,{value:e.note,name:"note",disabled:!0})),s.a.createElement("br",null),s.a.createElement(m.D,null,s.a.createElement(m.E,null,s.a.createElement(m.F,{className:"bg-info text-white"},"Telefon")),R.includes(e.idRow)?s.a.createElement(m.C,{value:_.phone,type:"number",name:"phone",onChange:function(t){return je({id:e.idRow,data:t.target})}}):s.a.createElement(m.C,{value:e.phone,name:"phone",disabled:!0})),s.a.createElement("br",null),s.a.createElement(m.D,null,s.a.createElement(m.E,null,s.a.createElement(m.F,{className:"bg-info text-white"},"Pozitii de joc")),R.includes(e.idRow)?s.a.createElement(m.C,{value:_.pozitiile,name:"pozitiile",onChange:function(t){return je({id:e.idRow,data:t.target})}}):s.a.createElement(m.C,{value:e.pozitiile,name:"pozitiile",disabled:!0})),s.a.createElement(m.v,{className:"help-block"},"1: Att, 2: Mid, 3: Def, 4: Gk"),s.a.createElement("br",null),R.includes(e.idRow)?s.a.createElement(m.f,null,s.a.createElement(m.e,{color:"success",onClick:ge},"Update"),s.a.createElement(m.e,{color:"danger",onClick:function(){return ke([])}},"Cancel")):s.a.createElement(m.e,{color:"warning",onClick:function(){return ke([e.idRow])}},"Edit")),s.a.createElement(m.k,{md:"4",className:"py-3"},"default"===e.photo?"No Image":s.a.createElement(m.j,{src:e.photo})))))}}}),s.a.createElement(m.M,{activePage:fe,onActivePageChange:function(e){ue!==e&&r.push("/players?page=".concat(e))},pages:se,align:"center"})))):"",Object.keys(Ee).map((function(e){return s.a.createElement(m.cb,{position:e,key:"toaster"+e},Ee[e].map((function(e,t){return s.a.createElement(m.Z,{key:"toast"+t,show:!0,autohide:e.autohide,fade:e.fade},s.a.createElement(m.bb,{closeButton:e.closeButton},["full","low","pass"].includes(e.type)?"Atentie!":"Jucatori"),s.a.createElement(m.ab,null,function(e){switch(e.type){case"full":return"Maximul jucatorilor este 12";case"low":return"Minimul de jucatorilor este 12";case"noteams":return"Generaza echipele!";case"pass":return"Wrong Password!!!";case"change":return Object.keys(F).map((function(e){return P.includes(F[e].id)?s.a.createElement("p",{key:F[e].id},s.a.createElement("b",null,"".concat(F[e].name))):""}));case"errors":return Object.keys(e.content).map((function(t){return s.a.createElement("p",{key:t},s.a.createElement("b",{style:{textTransform:"capitalize"}},"".concat(t),": ")," ","".concat(e.content[t]))}))}}(e)))})))})),s.a.createElement(m.H,{show:h,onClose:O},s.a.createElement(m.K,{closeButton:!0},s.a.createElement(m.L,null,"Modal title")),s.a.createElement(m.I,null,C.length<1?"No teams":s.a.createElement(m.O,null,s.a.createElement(m.k,{col:"6",className:"bg-info py-3"},C[0].map((function(t,n){return e+=parseInt(t.note,10),s.a.createElement("p",{key:t.id},"".concat(n+1,": "),s.a.createElement("b",null,"".concat(t.name))," : ",Oe(t.pozitiile.split(".")[0])," : ",t.note)})),s.a.createElement("h3",null,"Suma: ",e),s.a.createElement("h5",null,"Media: ",(e/6).toFixed(2))),s.a.createElement(m.k,{col:"6",className:"bg-warning py-3"},C[1].map((function(e,n){return t+=parseInt(e.note,10),s.a.createElement("p",{key:e.id},"".concat(n+1,": "),s.a.createElement("b",null,"".concat(e.name))," : ",Oe(e.pozitiile.split(".")[0])," : ",e.note)})),s.a.createElement("h4",null,"Suma: ",t),s.a.createElement("h5",null,"Media: ",(t/6).toFixed(2))))),s.a.createElement(m.J,null,s.a.createElement(m.f,null,s.a.createElement(m.e,{onClick:function(){return he("position")},color:"success"},"Teams by Position")," ",s.a.createElement(m.e,{onClick:function(){return he("top")},color:"danger"},"Teams by Top")),s.a.createElement(m.e,{color:"secondary",onClick:function(){return O(!1)}},"Close"))))}}}]);
//# sourceMappingURL=5.649e7d52.chunk.js.map